{% extends "auctions/layout.html" %}
{% load static %}
{% block body %}

<section class="container-fluid px-0 mx-0 hero-bg">
    <div class="px-lg-5 px-4 py-5">
        <ul class="circles">
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
        <div class="row justify-content-start align-items-center">
            <div class="col-lg-8 col-auto py-5">
                <h1 class="display-3">Auctions.com</h1>
                <p class="lead"><mark>The leading marketplace</mark> for buying and selling Electronics, Home, Fashion
                    and Toy
                    Products! Scroll through our Active Listings, Place Bids, Add your favorites to your Watchlist
                    and
                    Create your own Listing</p>
                <span class="d-block mt-5">
                    <h3 class="mb-2 mr-2">Explore Our Top Categories</h3>
                    <a class="btn btn-outline-secondary rounded-pill mr-2 my-2 active category-link" href="#"
                        role="button" id="categoryLink" data-category="all">All</a>
                    {% for category in categories %}
                    <a class="btn btn-outline-secondary rounded-pill mr-2 my-2 category-link" href="#" role="button"
                        id="categoryLink{{ category.0 }}" data-category="{{ category.0 }}">
                        {{ category.1 }}</a>
                    {% endfor %}
                </span>
                <hr class="my-2">
            </div>
        </div>
    </div>
</section>
<section class="container-fluid py-5 px-5" id="listings-section">
    <div class="row">
        <div class="offcanvas offcanvas-start p-5 d-lg-none d-block" data-bs-scroll="true" data-bs-backdrop="false"
            tabindex="-1" id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel"
            style="max-height:350vh; overflow-y: auto;">
            <button type="button" class="btn-close float-end" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            {% include 'auctions/components/filter-component.html' with unique_id='mobile' %}
        </div>
        <div class="col-lg-2 col-12 border-end d-none d-lg-block">
            {% include 'auctions/components/filter-component.html' with unique_id='desktop' %}
        </div>
        <div class="col-lg-10 col-12" id="listings-container">
            <div class="d-flex me-auto">
                <button class="btn btn-secondary btn-sm rounded-pill d-lg-none d-flex" type="button"
                    data-bs-toggle="offcanvas" data-bs-target="#offcanvasScrolling"
                    aria-controls="offcanvasScrolling"><i class="bi bi-filter"></i></button>
                <div class="dropdown ms-auto">
                    <button class="btn btn-outline-secondary btn-sm dropdown-toggle rounded-pill" type="button"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        Sort: {{paginator.sort_option}}
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item sort-option" data-sort="best-match">Best Match</a></li>
                        <li><a class="dropdown-item sort-option" data-sort="high-to-low">Price: High to Low</a>
                        </li>
                        <li><a class="dropdown-item sort-option" data-sort="low-to-high">Price: Low to High</a>
                        </li>
                    </ul>
                </div>
                <div class="ms-2">
                    <nav aria-label="...">
                        <ul class="pagination pagination-sm my-0 py-0 justify-content-end">
                            {% if paginator.has_previous %}
                            <li class="page-item">
                                <a class="page-link" aria-label="Previous" data-label="previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                            {% endif %}
                            {% for page_num in paginator.get_page_numbers %}
                            <li class="page-item {% if page_num == paginator.current_page %}active{% endif %}">
                                <a class="page-link" data-label="{{ page_num }}">{{ page_num}}</a>
                            </li>
                            {% endfor %}

                            {% if paginator.has_next %}
                            <li class="page-item">
                                <a class="page-link" aria-label="Next" data-label="next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                            {% endif %}
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="d-block mt-5">
                <div class="row gx-3">
                    {% if not paginator.has_listings %}
                    <div class="col-auto my-2">
                        <p class="display-5">We're sorry, but we couldn't find any listings that match your specific
                            criteria. It's possible that there are currently no items available that meet your search
                            parameters. Consider broadening your search or adjusting the filters to discover more
                            listings. If you have any specific requirements or if you need assistance, feel free to
                            reach out to our support team. Thank you for using our platform!</p>
                    </div>
                    {% endif %}
                    {% for listing in paginator.get_listings %}
                    {% include 'auctions/components/listing-card-component.html' %}
                    {% endfor %}
                </div>
            </div>
        </div>
</section>
<button id="scroll-to-to-btn" class="btn btn-primary rounded-circle">
    <i class="bi bi-arrow-up"></i>
</button>

{% endblock %}